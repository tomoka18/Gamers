<%= form_with model:@post, url:'/posts', local:true do |f| %>
  <%= f.hidden_field :user_id, :value => current_user.id %>
  <div class="container">
    <div class="row justify-content-center align-items-center main-container">
      <div class="col-md-6">
        <div class="col-md-12">
          <% if @post.errors.any? %>
            <%= @post.errors.count %>件のエラーが発生しました
            <% @post.errors.full_messages.each do |message| %>
              <%= message %>
            <% end %>
          <% end %>
          <form>
            <h3 class="form-group text-center m-4">新規投稿</h3>
            <div class="form-group text-left">
              <%= f.label :タイトル %>
              <%= f.text_field :title, placeholder:"タイトル" %>
            </div>
            <div class="form-group text-left">
              <%= f.label :募集内容 %>
              <%= f.text_area :body, placeholder:"募集内容", size: "40x4" %>
            </div>
            <div class="form-group text-left">
              <%= f.label :ゲームタイトル %>
              <%= f.select :genre_id, Genre.all.map{ |genre| [genre.name, genre.id] }, {include_blank: '選択してください'} %>
            </div>
            <div class="form-group text-center">
              <%= f.submit "投稿", class: "btn btn-outline-dark btn-md" %>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
<% end %>

